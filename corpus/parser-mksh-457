while read l; do foo || bar; done